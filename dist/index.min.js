!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-element",["exports","xe-utils"],t);else if("undefined"!=typeof exports)t(exports,require("xe-utils"));else{var r={exports:{}};t(r.exports,e.XEUtils),e.VXETablePluginElement=r.exports.default}}(this,function(e,g){"use strict";var t;function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){return e&&t.valueFormat?g.default.toStringDate(e,t.valueFormat):e}function p(e,t,r){return g.default.toDateString(s(e,t),t.format||r)}function c(e,t,r,n){return g.default.map(e,function(e){return p(e,t,n)}).join(r)}function i(e,t,r,n){return(e=p(e,r,n))>=p(t[0],r,n)&&e<=p(t[1],r,n)}function h(e,t){var r=e.$table,n=t.props;return g.default.assign(r.vSize?{size:r.vSize}:{},n)}function y(e,a){var t=e.name,r=e.events,n=a.$table,o="change";switch(t){case"ElAutocomplete":o="select";break;case"ElInput":case"ElInputNumber":o="input"}var l=b({},o,function(e){n.updateStatus(a),r&&r[o]&&r[o](a,e)});return r&&g.default.assign({},g.default.objectMap(r,function(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.apply(null,[a].concat.apply(a,t))}}),l),l}function r(e,t,r){var n=r.row,a=r.column,o=t.attrs,l=h(r,t);return[e(t.name,{props:l,attrs:o,model:{value:g.default.get(n,a.property),callback:function(e){g.default.set(n,a.property,e)}},on:y(t,r)})]}function E(e,t,a){var r=t.events;return r&&g.default.assign({},g.default.objectMap(r,function(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.apply(null,[a].concat.apply(a,t))}}),e),e}function n(e,r,n,a){var o=n.column,l=r.name,u=r.attrs,i=r.events,d=h(n,r),p="change";switch(l){case"ElAutocomplete":p="select";break;case"ElInput":case"ElInputNumber":p="input"}return o.filters.map(function(t){return e(l,{props:d,attrs:u,model:{value:t.data,callback:function(e){t.data=e}},on:E(b({},p,function(e){M(a,o,!!t.data,t),i&&i[p]&&i[p](n,e)}),r,n)})})}function M(e,t,r,n){e[t.filterMultiple?"changeMultipleOption":"changeRadioOption"]({},r,n)}function a(e){var t=e.option,r=e.row,n=e.column,a=t.data;return g.default.get(r,n.property)==a}function w(r,e,t){var n=t.label||"label",a=t.value||"value",o=t.disabled||"disabled";return g.default.map(e,function(e,t){return r("el-option",{props:{value:e[a],label:e[n],disabled:e[o]},key:t})})}function k(e,t){return[""+(null==t?"":t)]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginElement=void 0,g=(t=g)&&t.__esModule?t:{default:t};var o={ElAutocomplete:{autofocus:"input.el-input__inner",renderDefault:r,renderEdit:r,renderFilter:n,filterMethod:a},ElInput:{autofocus:"input.el-input__inner",renderDefault:r,renderEdit:r,renderFilter:n,filterMethod:a},ElInputNumber:{autofocus:"input.el-input__inner",renderDefault:r,renderEdit:r,renderFilter:n,filterMethod:a},ElSelect:{renderEdit:function(r,e,t){var n=e.options,a=e.optionGroups,o=e.optionProps,l=void 0===o?{}:o,u=e.optionGroupProps,i=void 0===u?{}:u,d=t.row,p=t.column,c=e.attrs,f=h(t,e);if(a){var s=i.options||"options",v=i.label||"label";return[r("el-select",{props:f,attrs:c,model:{value:g.default.get(d,p.property),callback:function(e){g.default.set(d,p.property,e)}},on:y(e,t)},g.default.map(a,function(e,t){return r("el-option-group",{props:{label:e[v]},key:t},w(r,e[s],l))}))]}return[r("el-select",{props:f,attrs:c,model:{value:g.default.get(d,p.property),callback:function(e){g.default.set(d,p.property,e)}},on:y(e,t)},w(r,n,l))]},renderCell:function(e,t,r){var n=t.options,a=t.optionGroups,o=t.props,l=void 0===o?{}:o,u=t.optionProps,i=void 0===u?{}:u,d=t.optionGroupProps,p=void 0===d?{}:d,c=r.row,f=r.column,s=i.label||"label",v=i.value||"value",y=p.options||"options",m=g.default.get(c,f.property);return k(0,null!=m&&""!==m?g.default.map(l.multiple?m:[m],a?function(t){for(var e,r=0;r<a.length&&!(e=g.default.find(a[r][y],function(e){return e[v]===t}));r++);return e?e[s]:null}:function(t){var e=g.default.find(n,function(e){return e[v]===t});return e?e[s]:null}).join(";"):"")},renderFilter:function(r,e,n,a){var o=e.options,l=e.optionGroups,t=e.optionProps,u=void 0===t?{}:t,i=e.optionGroupProps,d=void 0===i?{}:i,p=n.column,c=e.attrs,f=e.events,s=h(n,e),v="change";if(l){var y=d.options||"options",m=d.label||"label";return p.filters.map(function(t){return r("el-select",{props:s,attrs:c,model:{value:t.data,callback:function(e){t.data=e}},on:E(b({},v,function(e){M(a,p,e&&0<e.length,t),f&&f[v]&&f[v](n,e)}),e,n)},g.default.map(l,function(e,t){return r("el-option-group",{props:{label:e[m]},key:t},w(r,e[y],u))}))})}return p.filters.map(function(t){return r("el-select",{props:s,attrs:c,model:{value:t.data,callback:function(e){t.data=e}},on:E({change:function(e){M(a,p,e&&0<e.length,t),f&&f[v]&&f[v](n,e)}},e,n)},w(r,o,u))})},filterMethod:function(e){var t=e.option,r=e.row,n=e.column,a=t.data,o=n.property,l=n.filterRender.props,u=void 0===l?{}:l,i=g.default.get(r,o);return u.multiple?g.default.isArray(i)?g.default.includeArrays(i,a):-1<a.indexOf(i):i==a}},ElCascader:{renderEdit:r,renderCell:function(e,t,r){var n=t.props,a=void 0===n?{}:n,o=r.row,l=r.column,u=g.default.get(o,l.property)||[],i=[];return function t(r,e,n,a){var o=n[r];e&&n.length>r&&g.default.each(e,function(e){e.value===o&&(a.push(e.label),t(++r,e.children,n,a))})}(0,a.options,u,i),k(0,(!1===a.showAllLevels?i.slice(i.length-1,i.length):i).join(" ".concat(a.separator||"/"," ")))}},ElDatePicker:{renderEdit:r,renderCell:function(e,t,r){var n=t.props,a=void 0===n?{}:n,o=r.row,l=r.column,u=a.rangeSeparator,i=void 0===u?"-":u,d=g.default.get(o,l.property);switch(a.type){case"week":d=p(d,a,"yyyywWW");break;case"month":d=p(d,a,"yyyy-MM");break;case"year":d=p(d,a,"yyyy");break;case"dates":d=c(d,a,", ","yyyy-MM-dd");break;case"daterange":d=c(d,a," ".concat(i," "),"yyyy-MM-dd");break;case"datetimerange":d=c(d,a," ".concat(i," "),"yyyy-MM-dd HH:ss:mm");break;case"monthrange":d=c(d,a," ".concat(i," "),"yyyy-MM");break;default:d=p(d,a,"yyyy-MM-dd")}return k(0,d)},renderFilter:function(e,r,n,a){var o=n.column,l=r.attrs,u=r.events,i=h(n,r),d="change";return o.filters.map(function(t){return e(r.name,{props:i,attrs:l,model:{value:t.data,callback:function(e){t.data=e}},on:E(b({},d,function(e){M(a,o,!!e,t),u&&u[d]&&u[d](n,e)}),r,n)})})},filterMethod:function(e){var t=e.option,r=e.row,n=e.column,a=t.data,o=n.filterRender.props,l=void 0===o?{}:o,u=g.default.get(r,n.property);if(a)switch(l.type){case"daterange":return i(u,a,l,"yyyy-MM-dd");case"datetimerange":return i(u,a,l,"yyyy-MM-dd HH:ss:mm");case"monthrange":return i(u,a,l,"yyyy-MM");default:return u===a}return!1}},ElTimePicker:{renderEdit:r,renderCell:function(e,t,r){var n=t.props,a=void 0===n?{}:n,o=r.row,l=r.column,u=a.isRange,i=a.format,d=void 0===i?"hh:mm:ss":i,p=a.rangeSeparator,c=void 0===p?"-":p,f=g.default.get(o,l.property);return f&&u&&(f=g.default.map(f,function(e){return g.default.toDateString(s(e,a),d)}).join(" ".concat(c," "))),g.default.toDateString(s(f,a),d)}},ElTimeSelect:{renderEdit:r},ElRate:{renderDefault:r,renderEdit:r,renderFilter:n,filterMethod:a},ElSwitch:{renderDefault:r,renderEdit:r,renderFilter:n,filterMethod:a},ElSlider:{renderDefault:r,renderEdit:r,renderFilter:n,filterMethod:a}};function l(e,t,r){var n=r.getEventTargetNode,a=document.body;if(n(t,a,"el-autocomplete-suggestion").flag||n(t,a,"el-select-dropdown").flag||n(t,a,"el-cascader__dropdown").flag||n(t,a,"el-cascader-menus").flag||n(t,a,"el-picker-panel").flag)return!1}var u={install:function(e){var t=e.interceptor;e.renderer.mixin(o),t.add("event.clearFilter",l),t.add("event.clearActived",l)}};e.VXETablePluginElement=u,"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(u);var d=u;e.default=d});