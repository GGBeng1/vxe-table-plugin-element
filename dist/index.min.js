!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-element",["exports","xe-utils"],t);else if("undefined"!=typeof exports)t(exports,require("xe-utils"));else{var n={exports:{}};t(n.exports,e.XEUtils),e.VXETablePluginElement=n.exports.default}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(e,M){"use strict";var t;function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return null==e||""===e}function f(e,t){return e&&t.valueFormat?M.default.toStringDate(e,t.valueFormat):e}function d(e,t,n){return M.default.toDateString(f(e,t),t.format||n)}function c(e,t,n,r){return M.default.map(e,function(e){return d(e,t,r)}).join(n)}function i(e,t,n,r){return(e=d(e,n,r))>=d(t[0],n,r)&&e<=d(t[1],n,r)}function b(e,t,n){var r=e.$table,o=t.props;return M.default.assign(r.vSize?{size:r.vSize}:{},n,o)}function m(e,o){var t=e.name,n=e.events,r=o.$table,a="change";switch(t){case"ElAutocomplete":a="select";break;case"ElInput":case"ElInputNumber":a="input"}var l=y({},a,function(e){r.updateStatus(o),n&&n[a]&&n[a](o,e)});return n?M.default.assign({},M.default.objectMap(n,function(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(null,[o].concat.apply(o,t))}}),l):l}function r(e,t){var n,o,a=e.options,l=e.optionGroups,r=e.props,u=void 0===r?{}:r,i=e.optionProps,d=void 0===i?{}:i,c=e.optionGroupProps,p=void 0===c?{}:c,f=t.$table,s=t.row,v=t.column,m=d.label||"label",y=d.value||"value",b=p.options||"options",g=M.default.get(s,v.property),h=v.id;if(u.filterable){var E=f.fullAllDataRowMap;if(E.has(s)&&(n=E.get(s),o=(o=n.cellData)||(E.get(s).cellData={})),n&&o[h]&&o[h].value===g)return o[h].label}return w(g)?null:M.default.map(u.multiple?g:[g],l?function(t){for(var e,n=0;n<l.length&&!(e=M.default.find(l[n][b],function(e){return e[y]===t}));n++);var r=e?e[m]:t;return o&&a&&a.length&&(o[h]={value:g,label:r}),r}:function(t){var e=M.default.find(a,function(e){return e[y]===t}),n=e?e[m]:t;return o&&a&&a.length&&(o[h]={value:g,label:n}),n}).join(", ")}function o(e,t){var n=e.props,r=void 0===n?{}:n,o=t.row,a=t.column,l=M.default.get(o,a.property)||[],u=[];return function t(n,e,r,o){var a=r[n];e&&r.length>n&&M.default.each(e,function(e){e.value===a&&(o.push(e.label),t(++n,e.children,r,o))})}(0,r.options,l,u),(!1===r.showAllLevels?u.slice(u.length-1,u.length):u).join(" ".concat(r.separator||"/"," "))}function a(e,t){var n=e.props,r=void 0===n?{}:n,o=t.row,a=t.column,l=r.rangeSeparator,u=void 0===l?"-":l,i=M.default.get(o,a.property);switch(r.type){case"week":i=d(i,r,"yyyywWW");break;case"month":i=d(i,r,"yyyy-MM");break;case"year":i=d(i,r,"yyyy");break;case"dates":i=c(i,r,", ","yyyy-MM-dd");break;case"daterange":i=c(i,r," ".concat(u," "),"yyyy-MM-dd");break;case"datetimerange":i=c(i,r," ".concat(u," "),"yyyy-MM-dd HH:ss:mm");break;case"monthrange":i=c(i,r," ".concat(u," "),"yyyy-MM");break;default:i=d(i,r,"yyyy-MM-dd")}return i}function l(e,t){var n=e.props,r=void 0===n?{}:n,o=t.row,a=t.column,l=r.isRange,u=r.format,i=void 0===u?"hh:mm:ss":u,d=r.rangeSeparator,c=void 0===d?"-":d,p=M.default.get(o,a.property);return p&&l&&(p=M.default.map(p,function(e){return M.default.toDateString(f(e,r),i)}).join(" ".concat(c," "))),M.default.toDateString(f(p,r),i)}function n(u){return function(e,t,n){var r=n.row,o=n.column,a=t.attrs,l=b(n,t,u);return[e(t.name,{props:l,attrs:a,model:{value:M.default.get(r,o.property),callback:function(e){M.default.set(r,o.property,e)}},on:m(t,n)})]}}function u(e,t,n){return[e("el-button",{attrs:t.attrs,props:b(n,t),on:m(t,n)},k(e,t.content))]}function p(t,e,n){return e.children.map(function(e){return u(t,e,n)[0]})}function g(e,t,o){var n=t.events;return n?M.default.assign({},M.default.objectMap(n,function(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(null,[o].concat(t))}}),e):e}function s(){return function(e,n,r){var o=r.column,a=n.name,l=n.attrs,u=n.events,i=b(r,n),d="change";switch(a){case"ElAutocomplete":d="select";break;case"ElInput":case"ElInputNumber":d="input"}return o.filters.map(function(t){return e(a,{props:i,attrs:l,model:{value:t.data,callback:function(e){t.data=e}},on:g(y({},d,function(e){h(r,o,!!t.data,t),u&&u[d]&&u[d](r,e)}),n,r)})})}}function h(e,t,n,r){(e.$panel||e.context)[t.filterMultiple?"changeMultipleOption":"changeRadioOption"]({},n,r)}function v(e){var t=e.option,n=e.row,r=e.column,o=t.data;return M.default.get(n,r.property)==o}function E(n,e,t){var r=t.label||"label",o=t.value||"value",a=t.disabled||"disabled";return M.default.map(e,function(e,t){return n("el-option",{props:{value:e[o],label:e[r],disabled:e[a]},key:t})})}function k(e,t){return[""+(w(t)?"":t)]}function I(a){return function(e,t,n){var r=n.data,o=n.property;return[e(t.name,{attrs:t.attrs,props:D(n,t,a),model:{value:M.default.get(r,o),callback:function(e){M.default.set(r,o,e)}},on:P(t,n)})]}}function x(e,t,n){var r=t.attrs,o=D(n,t);return[e("el-button",{attrs:r,props:o,on:P(t,n)},k(0,t.content||o.content))]}function D(e,t,n){var r=e.$form,o=t.props;return M.default.assign(r.vSize?{size:r.vSize}:{},n,o)}function P(e,o){var t=e.events,n=o.$form,r="change";switch(name){case"ElAutocomplete":r="select";break;case"ElInput":case"ElInputNumber":r="input"}var a=y({},r,function(e){n.updateStatus(o),t&&t[r]&&t[r](o,e)});return t?M.default.assign({},M.default.objectMap(t,function(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(null,[o].concat.apply(o,t))}}),a):a}function S(t,e){var n=e?"editRender":"cellRender";return function(e){return t(e.column[n],e)}}function A(){return function(t,e,n){var r=e.name,o=e.options,a=e.optionProps,l=void 0===a?{}:a,u=n.data,i=n.property,d=e.attrs,c=D(n,e),p=l.label||"label",f=l.value||"value",s=l.disabled||"disabled";return[t("".concat(r,"Group"),{props:c,attrs:d,model:{value:M.default.get(u,i),callback:function(e){M.default.set(u,i,e)}},on:P(e,n)},o.map(function(e){return t(r,{props:{label:e[f],disabled:e[s]}},e[p])}))]}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginElement=void 0,M=(t=M)&&t.__esModule?t:{default:t};var _={ElAutocomplete:{autofocus:"input.el-input__inner",renderDefault:n(),renderEdit:n(),renderFilter:s(),filterMethod:v,renderItem:I()},ElInput:{autofocus:"input.el-input__inner",renderDefault:n(),renderEdit:n(),renderFilter:s(),filterMethod:v,renderItem:I()},ElInputNumber:{autofocus:"input.el-input__inner",renderDefault:n(),renderEdit:n(),renderFilter:s(),filterMethod:v,renderItem:I()},ElSelect:{renderEdit:function(n,e,t){var r=e.options,o=e.optionGroups,a=e.optionProps,l=void 0===a?{}:a,u=e.optionGroupProps,i=void 0===u?{}:u,d=t.row,c=t.column,p=e.attrs,f=b(t,e);if(o){var s=i.options||"options",v=i.label||"label";return[n("el-select",{props:f,attrs:p,model:{value:M.default.get(d,c.property),callback:function(e){M.default.set(d,c.property,e)}},on:m(e,t)},M.default.map(o,function(e,t){return n("el-option-group",{props:{label:e[v]},key:t},E(n,e[s],l))}))]}return[n("el-select",{props:f,attrs:p,model:{value:M.default.get(d,c.property),callback:function(e){M.default.set(d,c.property,e)}},on:m(e,t)},E(n,r,l))]},renderCell:function(e,t,n){return k(0,r(t,n))},renderFilter:function(n,e,r){var o=e.options,a=e.optionGroups,t=e.optionProps,l=void 0===t?{}:t,u=e.optionGroupProps,i=void 0===u?{}:u,d=r.column,c=e.attrs,p=e.events,f=b(r,e),s="change";if(a){var v=i.options||"options",m=i.label||"label";return d.filters.map(function(t){return n("el-select",{props:f,attrs:c,model:{value:t.data,callback:function(e){t.data=e}},on:g(y({},s,function(e){h(r,d,e&&0<e.length,t),p&&p[s]&&p[s](r,e)}),e,r)},M.default.map(a,function(e,t){return n("el-option-group",{props:{label:e[m]},key:t},E(n,e[v],l))}))})}return d.filters.map(function(t){return n("el-select",{props:f,attrs:c,model:{value:t.data,callback:function(e){t.data=e}},on:g({change:function(e){h(r,d,e&&0<e.length,t),p&&p[s]&&p[s](r,e)}},e,r)},E(n,o,l))})},filterMethod:function(e){var t=e.option,n=e.row,r=e.column,o=t.data,a=r.property,l=r.filterRender.props,u=void 0===l?{}:l,i=M.default.get(n,a);return u.multiple?M.default.isArray(i)?M.default.includeArrays(i,o):-1<o.indexOf(i):i==o},renderItem:function(n,e,t){var r=e.options,o=e.optionGroups,a=e.optionProps,l=void 0===a?{}:a,u=e.optionGroupProps,i=void 0===u?{}:u,d=t.data,c=t.property,p=e.attrs,f=D(t,e);if(o){var s=i.options||"options",v=i.label||"label";return[n("el-select",{props:f,attrs:p,model:{value:M.default.get(d,c),callback:function(e){M.default.set(d,c,e)}},on:P(e,t)},M.default.map(o,function(e,t){return n("el-option-group",{props:{label:e[v]},key:t},E(n,e[s],l))}))]}return[n("el-select",{props:f,attrs:p,model:{value:M.default.get(d,c),callback:function(e){M.default.set(d,c,e)}},on:P(e,t)},E(n,r,l))]},cellExportMethod:S(r),editCellExportMethod:S(r,!0)},ElCascader:{renderEdit:n(),renderCell:function(e,t,n){return k(0,o(t,n))},renderItem:I(),cellExportMethod:S(o),editCellExportMethod:S(o,!0)},ElDatePicker:{renderEdit:n(),renderCell:function(e,t,n){return k(0,a(t,n))},renderFilter:function(e,n,r){var o=r.column,a=n.attrs,l=n.events,u=b(r,n),i="change";return o.filters.map(function(t){return e(n.name,{props:u,attrs:a,model:{value:t.data,callback:function(e){t.data=e}},on:g(y({},i,function(e){h(r,o,!!e,t),l&&l[i]&&l[i](r,e)}),n,r)})})},filterMethod:function(e){var t=e.option,n=e.row,r=e.column,o=t.data,a=r.filterRender.props,l=void 0===a?{}:a,u=M.default.get(n,r.property);if(o)switch(l.type){case"daterange":return i(u,o,l,"yyyy-MM-dd");case"datetimerange":return i(u,o,l,"yyyy-MM-dd HH:ss:mm");case"monthrange":return i(u,o,l,"yyyy-MM");default:return u===o}return!1},renderItem:I(),cellExportMethod:S(a),editCellExportMethod:S(a,!0)},ElTimePicker:{renderEdit:n(),renderCell:function(e,t,n){return l(t,n)},renderItem:I(),cellExportMethod:S(l),editCellExportMethod:S(l,!0)},ElTimeSelect:{renderEdit:n(),renderItem:I()},ElRate:{renderDefault:n(),renderEdit:n(),renderFilter:s(),filterMethod:v,renderItem:I()},ElSwitch:{renderDefault:n(),renderEdit:n(),renderFilter:s(),filterMethod:v,renderItem:I()},ElSlider:{renderDefault:n(),renderEdit:n(),renderFilter:s(),filterMethod:v,renderItem:I()},ElRadio:{renderItem:A()},ElCheckbox:{renderItem:A()},ElButton:{renderEdit:u,renderDefault:u,renderItem:x},ElButtons:{renderEdit:p,renderDefault:p,renderItem:function(t,e,n){return e.children.map(function(e){return x(t,e,n)[0]})}}};function F(e,t,n){var r=e.$table,o=r?r.getEventTargetNode:n.getEventTargetNode,a=document.body;if(o(t,a,"el-autocomplete-suggestion").flag||o(t,a,"el-select-dropdown").flag||o(t,a,"el-cascader__dropdown").flag||o(t,a,"el-cascader-menus").flag||o(t,a,"el-time-panel").flag||o(t,a,"el-picker-panel").flag||o(t,a,"el-color-dropdown").flag)return!1}var T={install:function(e){var t=e.interceptor;e.renderer.mixin(_),t.add("event.clearFilter",F),t.add("event.clearActived",F)}};e.VXETablePluginElement=T,"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(T);var C=T;e.default=C});