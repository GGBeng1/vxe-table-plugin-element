!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-element",["exports","xe-utils"],t);else if("undefined"!=typeof exports)t(exports,require("xe-utils"));else{var n={exports:{}};t(n.exports,e.XEUtils),e.VXETablePluginElement=n.exports.default}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(e,w){"use strict";var t;function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return e&&t.valueFormat?w.default.toStringDate(e,t.valueFormat):e}function c(e,t,n){return w.default.toDateString(s(e,t),t.format||n)}function p(e,t,n,r){return w.default.map(e,function(e){return c(e,t,r)}).join(n)}function i(e,t,n,r){return(e=c(e,n,r))>=c(t[0],n,r)&&e<=c(t[1],n,r)}function b(e,t,n){var r=e.$table,a=t.props;return w.default.assign(r.vSize?{size:r.vSize}:{},n,a)}function y(e,a){var t=e.name,n=e.events,r=a.$table,l="change";switch(t){case"ElAutocomplete":l="select";break;case"ElInput":case"ElInputNumber":l="input"}var o=m({},l,function(e){r.updateStatus(a),n&&n[l]&&n[l](a,e)});return n?w.default.assign({},w.default.objectMap(n,function(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(null,[a].concat.apply(a,t))}}),o):o}function n(u){return function(e,t,n){var r=n.row,a=n.column,l=t.attrs,o=b(n,t,u);return[e(t.name,{props:o,attrs:l,model:{value:w.default.get(r,a.property),callback:function(e){w.default.set(r,a.property,e)}},on:y(t,n)})]}}function h(e,t,a,l){var n=t.events;return n?w.default.assign({},w.default.objectMap(n,function(r){return function(){a=Object.assign({context:l},a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(null,[a].concat.apply(a,t))}}),e):e}function r(){return function(e,n,r,a){var l=r.column,o=n.name,u=n.attrs,i=n.events,d=b(r,n),c="change";switch(o){case"ElAutocomplete":c="select";break;case"ElInput":case"ElInputNumber":c="input"}return l.filters.map(function(t){return e(o,{props:d,attrs:u,model:{value:t.data,callback:function(e){t.data=e}},on:h(m({},c,function(e){E(a,l,!!t.data,t),i&&i[c]&&i[c](Object.assign({context:a},r),e)}),n,r,a)})})}}function E(e,t,n,r){e[t.filterMultiple?"changeMultipleOption":"changeRadioOption"]({},n,r)}function a(e){var t=e.option,n=e.row,r=e.column,a=t.data;return w.default.get(n,r.property)==a}function M(n,e,t){var r=t.label||"label",a=t.value||"value",l=t.disabled||"disabled";return w.default.map(e,function(e,t){return n("el-option",{props:{value:e[a],label:e[r],disabled:e[l]},key:t})})}function k(e,t){return[""+(null==t?"":t)]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginElement=void 0,w=(t=w)&&t.__esModule?t:{default:t};var l={ElAutocomplete:{autofocus:"input.el-input__inner",renderDefault:n(),renderEdit:n(),renderFilter:r(),filterMethod:a},ElInput:{autofocus:"input.el-input__inner",renderDefault:n(),renderEdit:n(),renderFilter:r(),filterMethod:a},ElInputNumber:{autofocus:"input.el-input__inner",renderDefault:n(),renderEdit:n(),renderFilter:r(),filterMethod:a},ElSelect:{renderEdit:function(n,e,t){var r=e.options,a=e.optionGroups,l=e.optionProps,o=void 0===l?{}:l,u=e.optionGroupProps,i=void 0===u?{}:u,d=t.row,c=t.column,p=e.attrs,f=b(t,e);if(a){var s=i.options||"options",v=i.label||"label";return[n("el-select",{props:f,attrs:p,model:{value:w.default.get(d,c.property),callback:function(e){w.default.set(d,c.property,e)}},on:y(e,t)},w.default.map(a,function(e,t){return n("el-option-group",{props:{label:e[v]},key:t},M(n,e[s],o))}))]}return[n("el-select",{props:f,attrs:p,model:{value:w.default.get(d,c.property),callback:function(e){w.default.set(d,c.property,e)}},on:y(e,t)},M(n,r,o))]},renderCell:function(e,t,n){var r,a,l=t.options,o=t.optionGroups,u=t.props,i=void 0===u?{}:u,d=t.optionProps,c=void 0===d?{}:d,p=t.optionGroupProps,f=void 0===p?{}:p,s=n.$table,v=n.row,y=n.column,g=c.label||"label",m=c.value||"value",b=f.options||"options",h=w.default.get(v,y.property),E=y.id;if(i.filterable){var M=s.fullAllDataRowMap;if(M.has(v)&&(r=M.get(v),a=(a=r.cellData)||(M.get(v).cellData={})),r&&a[E]&&a[E].value===h)return a[E].label}return k(0,null!=h&&""!==h?w.default.map(i.multiple?h:[h],o?function(t){for(var e,n=0;n<o.length&&!(e=w.default.find(o[n][b],function(e){return e[m]===t}));n++);var r=e?e[g]:t;return a&&l&&l.length&&(a[E]={value:h,label:r}),r}:function(t){var e=w.default.find(l,function(e){return e[m]===t}),n=e?e[g]:t;return a&&l&&l.length&&(a[E]={value:h,label:n}),n}).join(";"):"")},renderFilter:function(n,e,r,a){var l=e.options,o=e.optionGroups,t=e.optionProps,u=void 0===t?{}:t,i=e.optionGroupProps,d=void 0===i?{}:i,c=r.column,p=e.attrs,f=e.events,s=b(r,e),v="change";if(o){var y=d.options||"options",g=d.label||"label";return c.filters.map(function(t){return n("el-select",{props:s,attrs:p,model:{value:t.data,callback:function(e){t.data=e}},on:h(m({},v,function(e){E(a,c,e&&0<e.length,t),f&&f[v]&&f[v](Object.assign({context:a},r),e)}),e,r,a)},w.default.map(o,function(e,t){return n("el-option-group",{props:{label:e[g]},key:t},M(n,e[y],u))}))})}return c.filters.map(function(t){return n("el-select",{props:s,attrs:p,model:{value:t.data,callback:function(e){t.data=e}},on:h({change:function(e){E(a,c,e&&0<e.length,t),f&&f[v]&&f[v](Object.assign({context:a},r),e)}},e,r,a)},M(n,l,u))})},filterMethod:function(e){var t=e.option,n=e.row,r=e.column,a=t.data,l=r.property,o=r.filterRender.props,u=void 0===o?{}:o,i=w.default.get(n,l);return u.multiple?w.default.isArray(i)?w.default.includeArrays(i,a):-1<a.indexOf(i):i==a}},ElCascader:{renderEdit:n(),renderCell:function(e,t,n){var r=t.props,a=void 0===r?{}:r,l=n.row,o=n.column,u=w.default.get(l,o.property)||[],i=[];return function t(n,e,r,a){var l=r[n];e&&r.length>n&&w.default.each(e,function(e){e.value===l&&(a.push(e.label),t(++n,e.children,r,a))})}(0,a.options,u,i),k(0,(!1===a.showAllLevels?i.slice(i.length-1,i.length):i).join(" ".concat(a.separator||"/"," ")))}},ElDatePicker:{renderEdit:n(),renderCell:function(e,t,n){var r=t.props,a=void 0===r?{}:r,l=n.row,o=n.column,u=a.rangeSeparator,i=void 0===u?"-":u,d=w.default.get(l,o.property);switch(a.type){case"week":d=c(d,a,"yyyywWW");break;case"month":d=c(d,a,"yyyy-MM");break;case"year":d=c(d,a,"yyyy");break;case"dates":d=p(d,a,", ","yyyy-MM-dd");break;case"daterange":d=p(d,a," ".concat(i," "),"yyyy-MM-dd");break;case"datetimerange":d=p(d,a," ".concat(i," "),"yyyy-MM-dd HH:ss:mm");break;case"monthrange":d=p(d,a," ".concat(i," "),"yyyy-MM");break;default:d=c(d,a,"yyyy-MM-dd")}return k(0,d)},renderFilter:function(e,n,r,a){var l=r.column,o=n.attrs,u=n.events,i=b(r,n),d="change";return l.filters.map(function(t){return e(n.name,{props:i,attrs:o,model:{value:t.data,callback:function(e){t.data=e}},on:h(m({},d,function(e){E(a,l,!!e,t),u&&u[d]&&u[d](Object.assign({context:a},r),e)}),n,r,a)})})},filterMethod:function(e){var t=e.option,n=e.row,r=e.column,a=t.data,l=r.filterRender.props,o=void 0===l?{}:l,u=w.default.get(n,r.property);if(a)switch(o.type){case"daterange":return i(u,a,o,"yyyy-MM-dd");case"datetimerange":return i(u,a,o,"yyyy-MM-dd HH:ss:mm");case"monthrange":return i(u,a,o,"yyyy-MM");default:return u===a}return!1}},ElTimePicker:{renderEdit:n(),renderCell:function(e,t,n){var r=t.props,a=void 0===r?{}:r,l=n.row,o=n.column,u=a.isRange,i=a.format,d=void 0===i?"hh:mm:ss":i,c=a.rangeSeparator,p=void 0===c?"-":c,f=w.default.get(l,o.property);return f&&u&&(f=w.default.map(f,function(e){return w.default.toDateString(s(e,a),d)}).join(" ".concat(p," "))),w.default.toDateString(s(f,a),d)}},ElTimeSelect:{renderEdit:n()},ElRate:{renderDefault:n(),renderEdit:n(),renderFilter:r(),filterMethod:a},ElSwitch:{renderDefault:n(),renderEdit:n(),renderFilter:r(),filterMethod:a},ElSlider:{renderDefault:n(),renderEdit:n(),renderFilter:r(),filterMethod:a}};function o(e,t,n){var r=n.getEventTargetNode,a=document.body;if(r(t,a,"el-autocomplete-suggestion").flag||r(t,a,"el-select-dropdown").flag||r(t,a,"el-cascader__dropdown").flag||r(t,a,"el-cascader-menus").flag||r(t,a,"el-time-panel").flag||r(t,a,"el-picker-panel").flag)return!1}var u={install:function(e){var t=e.interceptor;e.renderer.mixin(l),t.add("event.clearFilter",o),t.add("event.clearActived",o)}};e.VXETablePluginElement=u,"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(u);var d=u;e.default=d});