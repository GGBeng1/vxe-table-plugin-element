!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-element",["exports","xe-utils"],t);else if("undefined"!=typeof exports)t(exports,require("xe-utils"));else{var r={exports:{}};t(r.exports,e.XEUtils),e.VXETablePluginElement=r.exports.default}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(e,M){"use strict";var t;function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){return null==e||""===e}function f(e,t){return e&&t.valueFormat?M.default.toStringDate(e,t.valueFormat):e}function d(e,t,r){return M.default.toDateString(f(e,t),t.format||r)}function p(e,t,r,n){return M.default.map(e,function(e){return d(e,t,n)}).join(r)}function i(e,t,r,n){return(e=d(e,r,n))>=d(t[0],r,n)&&e<=d(t[1],r,n)}function b(e,t,r){var n=e.$table,a=t.props;return M.default.assign(n.vSize?{size:n.vSize}:{},r,a)}function m(e,a){var t=e.name,r=e.events,n=a.$table,o="change";switch(t){case"ElAutocomplete":o="select";break;case"ElInput":case"ElInputNumber":o="input"}var l=y({},o,function(e){n.updateStatus(a),r&&r[o]&&r[o](a,e)});return r?M.default.assign({},M.default.objectMap(r,function(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.apply(null,[a].concat.apply(a,t))}}),l):l}function n(e,t){var r,a,o=e.options,l=e.optionGroups,n=e.props,u=void 0===n?{}:n,i=e.optionProps,d=void 0===i?{}:i,p=e.optionGroupProps,c=void 0===p?{}:p,f=t.$table,s=t.row,v=t.column,m=d.label||"label",y=d.value||"value",b=c.options||"options",g=M.default.get(s,v.property),h=v.id;if(u.filterable){var E=f.fullAllDataRowMap;if(E.has(s)&&(r=E.get(s),a=(a=r.cellData)||(E.get(s).cellData={})),r&&a[h]&&a[h].value===g)return a[h].label}return w(g)?null:M.default.map(u.multiple?g:[g],l?function(t){for(var e,r=0;r<l.length&&!(e=M.default.find(l[r][b],function(e){return e[y]===t}));r++);var n=e?e[m]:t;return a&&o&&o.length&&(a[h]={value:g,label:n}),n}:function(t){var e=M.default.find(o,function(e){return e[y]===t}),r=e?e[m]:t;return a&&o&&o.length&&(a[h]={value:g,label:r}),r}).join(";")}function a(e,t){var r=e.props,n=void 0===r?{}:r,a=t.row,o=t.column,l=M.default.get(a,o.property)||[],u=[];return function t(r,e,n,a){var o=n[r];e&&n.length>r&&M.default.each(e,function(e){e.value===o&&(a.push(e.label),t(++r,e.children,n,a))})}(0,n.options,l,u),(!1===n.showAllLevels?u.slice(u.length-1,u.length):u).join(" ".concat(n.separator||"/"," "))}function o(e,t){var r=e.props,n=void 0===r?{}:r,a=t.row,o=t.column,l=n.rangeSeparator,u=void 0===l?"-":l,i=M.default.get(a,o.property);switch(n.type){case"week":i=d(i,n,"yyyywWW");break;case"month":i=d(i,n,"yyyy-MM");break;case"year":i=d(i,n,"yyyy");break;case"dates":i=p(i,n,", ","yyyy-MM-dd");break;case"daterange":i=p(i,n," ".concat(u," "),"yyyy-MM-dd");break;case"datetimerange":i=p(i,n," ".concat(u," "),"yyyy-MM-dd HH:ss:mm");break;case"monthrange":i=p(i,n," ".concat(u," "),"yyyy-MM");break;default:i=d(i,n,"yyyy-MM-dd")}return i}function l(e,t){var r=e.props,n=void 0===r?{}:r,a=t.row,o=t.column,l=n.isRange,u=n.format,i=void 0===u?"hh:mm:ss":u,d=n.rangeSeparator,p=void 0===d?"-":d,c=M.default.get(a,o.property);return c&&l&&(c=M.default.map(c,function(e){return M.default.toDateString(f(e,n),i)}).join(" ".concat(p," "))),M.default.toDateString(f(c,n),i)}function r(u){return function(e,t,r){var n=r.row,a=r.column,o=t.attrs,l=b(r,t,u);return[e(t.name,{props:l,attrs:o,model:{value:M.default.get(n,a.property),callback:function(e){M.default.set(n,a.property,e)}},on:m(t,r)})]}}function g(e,t,a){var r=t.events;return r?M.default.assign({},M.default.objectMap(r,function(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.apply(null,[a].concat(t))}}),e):e}function u(){return function(e,r,n,t){var a=n.column,o=r.name,l=r.attrs,u=r.events,i=b(n,r),d="change";switch(o){case"ElAutocomplete":d="select";break;case"ElInput":case"ElInputNumber":d="input"}return a.filters.map(function(t){return e(o,{props:i,attrs:l,model:{value:t.data,callback:function(e){t.data=e}},on:g(y({},d,function(e){h(n,a,!!t.data,t),u&&u[d]&&u[d](n,e)}),r,n)})})}}function h(e,t,r,n){(e.$panel||e.context)[t.filterMultiple?"changeMultipleOption":"changeRadioOption"]({},r,n)}function c(e){var t=e.option,r=e.row,n=e.column,a=t.data;return M.default.get(r,n.property)==a}function E(r,e,t){var n=t.label||"label",a=t.value||"value",o=t.disabled||"disabled";return M.default.map(e,function(e,t){return r("el-option",{props:{value:e[a],label:e[n],disabled:e[o]},key:t})})}function s(e,t){return[""+(w(t)?"":t)]}function v(l){return function(e,t,r,n){var a=r.data,o=r.property;return[e(t.name,{attrs:t.attrs,props:k(r,t,l),model:{value:M.default.get(a,o),callback:function(e){M.default.set(a,o,e)}},on:x(t,r)})]}}function k(e,t,r){var n=e.$form,a=t.props;return M.default.assign(n.vSize?{size:n.vSize}:{},r,a)}function x(e,a){var t=e.events,r=a.$form,n="change";switch(name){case"ElAutocomplete":n="select";break;case"ElInput":case"ElInputNumber":n="input"}var o=y({},n,function(e){r.updateStatus(a),t&&t[n]&&t[n](a,e)});return t?M.default.assign({},M.default.objectMap(t,function(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.apply(null,[a].concat.apply(a,t))}}),o):o}function I(t,e){var r=e?"editRender":"cellRender";return function(e){return t(e.column[r],e)}}function P(){return function(t,e,r,n){var a=e.name,o=e.options,l=e.optionProps,u=void 0===l?{}:l,i=r.data,d=r.property,p=e.attrs,c=k(r,e),f=u.label||"label",s=u.value||"value",v=u.disabled||"disabled";return[t("".concat(a,"Group"),{props:c,attrs:p,model:{value:M.default.get(i,d),callback:function(e){M.default.set(i,d,e)}},on:x(e,r)},o.map(function(e){return t(a,{props:{label:e[s],disabled:e[v]}},e[f])}))]}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginElement=void 0,M=(t=M)&&t.__esModule?t:{default:t};var S={ElAutocomplete:{autofocus:"input.el-input__inner",renderDefault:r(),renderEdit:r(),renderFilter:u(),filterMethod:c,renderItem:v()},ElInput:{autofocus:"input.el-input__inner",renderDefault:r(),renderEdit:r(),renderFilter:u(),filterMethod:c,renderItem:v()},ElInputNumber:{autofocus:"input.el-input__inner",renderDefault:r(),renderEdit:r(),renderFilter:u(),filterMethod:c,renderItem:v()},ElSelect:{renderEdit:function(r,e,t){var n=e.options,a=e.optionGroups,o=e.optionProps,l=void 0===o?{}:o,u=e.optionGroupProps,i=void 0===u?{}:u,d=t.row,p=t.column,c=e.attrs,f=b(t,e);if(a){var s=i.options||"options",v=i.label||"label";return[r("el-select",{props:f,attrs:c,model:{value:M.default.get(d,p.property),callback:function(e){M.default.set(d,p.property,e)}},on:m(e,t)},M.default.map(a,function(e,t){return r("el-option-group",{props:{label:e[v]},key:t},E(r,e[s],l))}))]}return[r("el-select",{props:f,attrs:c,model:{value:M.default.get(d,p.property),callback:function(e){M.default.set(d,p.property,e)}},on:m(e,t)},E(r,n,l))]},renderCell:function(e,t,r){return s(0,n(t,r))},renderFilter:function(r,e,n){var a=e.options,o=e.optionGroups,t=e.optionProps,l=void 0===t?{}:t,u=e.optionGroupProps,i=void 0===u?{}:u,d=n.column,p=e.attrs,c=e.events,f=b(n,e),s="change";if(o){var v=i.options||"options",m=i.label||"label";return d.filters.map(function(t){return r("el-select",{props:f,attrs:p,model:{value:t.data,callback:function(e){t.data=e}},on:g(y({},s,function(e){h(n,d,e&&0<e.length,t),c&&c[s]&&c[s](n,e)}),e,n)},M.default.map(o,function(e,t){return r("el-option-group",{props:{label:e[m]},key:t},E(r,e[v],l))}))})}return d.filters.map(function(t){return r("el-select",{props:f,attrs:p,model:{value:t.data,callback:function(e){t.data=e}},on:g({change:function(e){h(n,d,e&&0<e.length,t),c&&c[s]&&c[s](n,e)}},e,n)},E(r,a,l))})},filterMethod:function(e){var t=e.option,r=e.row,n=e.column,a=t.data,o=n.property,l=n.filterRender.props,u=void 0===l?{}:l,i=M.default.get(r,o);return u.multiple?M.default.isArray(i)?M.default.includeArrays(i,a):-1<a.indexOf(i):i==a},renderItem:function(r,e,t){var n=e.options,a=e.optionGroups,o=e.optionProps,l=void 0===o?{}:o,u=e.optionGroupProps,i=void 0===u?{}:u,d=t.data,p=t.property,c=e.attrs,f=k(t,e);if(a){var s=i.options||"options",v=i.label||"label";return[r("el-select",{props:f,attrs:c,model:{value:M.default.get(d,p),callback:function(e){M.default.set(d,p,e)}},on:x(e,t)},M.default.map(a,function(e,t){return r("el-option-group",{props:{label:e[v]},key:t},E(r,e[s],l))}))]}return[r("el-select",{props:f,attrs:c,model:{value:M.default.get(d,p),callback:function(e){M.default.set(d,p,e)}},on:x(e,t)},E(r,n,l))]},cellExportMethod:I(n),editCellExportMethod:I(n,!0)},ElCascader:{renderEdit:r(),renderCell:function(e,t,r){return s(0,a(t,r))},renderItem:v(),cellExportMethod:I(a),editCellExportMethod:I(a,!0)},ElDatePicker:{renderEdit:r(),renderCell:function(e,t,r){return s(0,o(t,r))},renderFilter:function(e,r,n){var a=n.column,o=r.attrs,l=r.events,u=b(n,r),i="change";return a.filters.map(function(t){return e(r.name,{props:u,attrs:o,model:{value:t.data,callback:function(e){t.data=e}},on:g(y({},i,function(e){h(n,a,!!e,t),l&&l[i]&&l[i](n,e)}),r,n)})})},filterMethod:function(e){var t=e.option,r=e.row,n=e.column,a=t.data,o=n.filterRender.props,l=void 0===o?{}:o,u=M.default.get(r,n.property);if(a)switch(l.type){case"daterange":return i(u,a,l,"yyyy-MM-dd");case"datetimerange":return i(u,a,l,"yyyy-MM-dd HH:ss:mm");case"monthrange":return i(u,a,l,"yyyy-MM");default:return u===a}return!1},renderItem:v(),cellExportMethod:I(o),editCellExportMethod:I(o,!0)},ElTimePicker:{renderEdit:r(),renderCell:function(e,t,r){return l(t,r)},renderItem:v(),cellExportMethod:I(l),editCellExportMethod:I(l,!0)},ElTimeSelect:{renderEdit:r(),renderItem:v()},ElRate:{renderDefault:r(),renderEdit:r(),renderFilter:u(),filterMethod:c,renderItem:v()},ElSwitch:{renderDefault:r(),renderEdit:r(),renderFilter:u(),filterMethod:c,renderItem:v()},ElSlider:{renderDefault:r(),renderEdit:r(),renderFilter:u(),filterMethod:c,renderItem:v()},ElRadio:{renderItem:P()},ElCheckbox:{renderItem:P()}};function D(e,t,r){var n=e.$table,a=n?n.getEventTargetNode:r.getEventTargetNode,o=document.body;if(a(t,o,"el-autocomplete-suggestion").flag||a(t,o,"el-select-dropdown").flag||a(t,o,"el-cascader__dropdown").flag||a(t,o,"el-cascader-menus").flag||a(t,o,"el-time-panel").flag||a(t,o,"el-picker-panel").flag)return!1}var A={install:function(e){var t=e.interceptor;e.renderer.mixin(S),t.add("event.clearFilter",D),t.add("event.clearActived",D)}};e.VXETablePluginElement=A,"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(A);var _=A;e.default=_});